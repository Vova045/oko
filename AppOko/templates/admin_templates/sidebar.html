{% load static %}

<div class="main-sidebar sidebar-style-2">
    <aside id="sidebar-wrapper">
      <div class="sidebar-brand">
        <a href="/"><img src="{% static '/img/logo.svg' %}"  style="height: 30px;"/></a>
      </div>
      <div class="sidebar-brand sidebar-brand-sm">
        <a href="/"><img src="{% static '/img/home/Group 12.svg' %}"   style="height: 30px;"/></a>
      </div>
      <ul class="sidebar-menu">
        <li class="menu-header">Административная панель</li>

        <!-- Chapters -->
        {% url 'chapter_list' as chapter_list %}
        {% url 'chapter_create' as chapter_create %}
        {% url 'chapter_update' id as chapter_update %}
        <li class="dropdown {% if request.path == chapter_list %} active {% endif %}{% if request.path == chapter_create %} active {% endif %}{% if request.path == chapter_update %} active {% endif %}">
          <a href="#" class="nav-link has-dropdown"><span>Разделы</span></a>
          <ul class="dropdown-menu">
            <li class="{% if request.path == chapter_list %} active {% endif %}{% if request.path == chapter_update %} active {% endif %}"><a class="nav-link" href="{% url 'chapter_list' %}">Все Разделы</a></li>
            <li class="{% if request.path == chapter_create %} active {% endif %}"><a class="nav-link" href="{% url 'chapter_create' %}">Добавить раздел</a></li>
          </ul>
        </li>
        <!-- Categories -->
        {% url 'category_list' as category_list %}
        {% url 'category_create' as category_create %}
        {% url 'category_update' id as category_update %}
        <li class="dropdown {% if request.path == category_list %} active {% endif %}{% if request.path == category_create %} active {% endif %}{% if request.path == category_update %} active {% endif %}">
          <a href="#" class="nav-link has-dropdown"><span>Категории</span></a>
          <ul class="dropdown-menu">
            <li class="{% if request.path == category_list %} active {% endif %}{% if request.path == category_update %} active {% endif %}"><a class="nav-link" href="{% url 'category_list' %}">Все категории</a></li>
            <li class="{% if request.path == category_create %} active {% endif %}"><a class="nav-link" href="{% url 'category_create' %}">Добавить категорию</a></li>
          </ul>
        </li>
        <!-- Subcategories -->
        {% url 'sub_category_list' as sub_category_list %}
        {% url 'sub_category_create' as sub_category_create %}
        {% url 'sub_category_update' id as sub_category_update %}
        <li class="dropdown {% if request.path == sub_category_list %} active {% endif %}{% if request.path == sub_category_create %} active {% endif %}{% if request.path == sub_category_update %} active {% endif %}">
          <a href="#" class="nav-link has-dropdown"></i><span>Подкатегории</span></a>
          <ul class="dropdown-menu">
            <li class="{% if request.path == sub_category_list %} active {% endif %}{% if request.path == sub_category_update %} active {% endif %}"><a class="nav-link" href="{% url 'sub_category_list' %}">Все подкатегории</a></li>
            <li class="{% if request.path == sub_category_create %} active {% endif %}"><a class="nav-link" href="{% url 'sub_category_create' %}">Добавить подкатегорию</a></li>
          </ul>
        </li>
        <!-- Staff Users -->
        {% url 'staff_create' as staff_create %}
        {% url 'staff_list' as staff_list %}
        {% url 'staff_update' as staff_update %}
        <li class="dropdown {% if request.path == staff_create %} active {% endif %}{% if request.path == staff_list %} active {% endif %}{% if request.path == staff_update %} active {% endif %}">
          <a href="#" class="nav-link has-dropdown"></i><span>Сотрудники</span></a>
          <ul class="dropdown-menu">
            <li class="{% if request.path == staff_create %} active {% endif %}"><a class="nav-link" href="{% url 'staff_create' %}">Добавить сотрудника</a></li>
            <li class="{% if request.path == staff_list %} active {% endif %}{% if request.path == staff_update %} active {% endif %}"><a class="nav-link" href="{% url 'staff_list' %}">Список сотрудников</a></li>
          </ul>
        </li>
        <!-- CUSTOMER Users -->
        {% url 'customer_create' as customer_create %}
        {% url 'customer_list' as customer_list %}
        {% url 'customer_update' as customer_update %}
        {% url 'customer_fast_create' as customer_fast_create %}
        <li class="dropdown {% if request.path == customer_create %} active {% endif %}{% if request.path == customer_list %} active {% endif %}{% if request.path == customer_update %} active {% endif %}">
          <a href="#" class="nav-link has-dropdown"><span>Покупатели</span></a>
          <ul class="dropdown-menu">
            <li class="{% if request.path == customer_create %} active {% endif %}"><a class="nav-link" href="{% url 'customer_create' %}">Добавить покупателя</a></li>
            <li class="{% if request.path == customer_list %} active {% endif %}{% if request.path == customer_update %} active {% endif %}"><a class="nav-link" href="{% url 'customer_list' %}">Список покупателей</a></li>
            <li class="{% if request.path == customer_fast_create %} active {% endif %}"><a class="nav-link" href="{% url 'customer_fast_create' %}">Быстрое добавление клиента</a></li>
          </ul>
        </li>
        <!-- TempCUSTOMER Users -->
        {% url 'tempcustomer_create' as tempcustomer_create %}
        {% url 'tempcustomer_list' as tempcustomer_list %}
        {% url 'tempcustomer_update' as tempcustomer_update %}
        {% url 'tempcustomer_fast_create' as tempcustomer_fast_create %}
        <li class="dropdown {% if request.path == tempcustomer_create %} active {% endif %}{% if request.path == tempcustomer_list %} active {% endif %}{% if request.path == tempcustomer_update %} active {% endif %}">
          <a href="#" class="nav-link has-dropdown"><span>Временные Покупатели</span></a>
          <ul class="dropdown-menu">
            <li class="{% if request.path == tempcustomer_create %} active {% endif %}"><a class="nav-link" href="{% url 'tempcustomer_create' %}">Добавить временного покупателя</a></li>
            <li class="{% if request.path == tempcustomer_list %} active {% endif %}{% if request.path == tempcustomer_update %} active {% endif %}"><a class="nav-link" href="{% url 'tempcustomer_list' %}">Список временных покупателей</a></li>
            <form method="post" enctype="multipart/form-data">
              {% csrf_token %}
              <div class="form-group">
                <label>Укажите номер проекта для временного пользователя</label>
                <select class="form-control" name="project_select" id="project_select">
                  {% for project in projects %}
                    <option value="{{ project.id }}">{{ project.number }}</option>
                  {% endfor %}
                </select>
              </div>
              <li class="{% if request.path == tempcustomer_fast_create %} active {% endif %}"><a id="project_button" class="nav-link" href="#">Быстрое добавление временного клиента</a></li>
            </form>
          </ul>
        </li>

        <!-- Products -->
      {% url 'product_view' as product_vew %}
      {% url 'product_list' as product_list %}
      {% url 'product_edit' product.id as product_edit %}
      {% url 'product_add_media' product.id as product_add_media %}
      {% url 'product_edit_media' product.id as product_edit_media %}
      {% url 'product_add_stocks' product.id as product_add_stocks %}
        <li class="dropdown {% if request.path == product_view %} active {% endif %} {% if request.path == product_list %} active {% endif %} {% if request.path == product_edit %} active {% endif %} {% if request.path == product_add_media %} active {% endif %} {% if request.path == product_edit_media %} active {% endif %} {% if request.path == product_add_stocks %} active {% endif %}">
          <a href="#" class="nav-link has-dropdown"><span>Продукты</span></a>
          <ul class="dropdown-menu">
            <li class="{% if request.path == product_view %} active {% endif %}"><a class="nav-link" href="{% url 'product_view' %}">Добавить товар</a></li>
            <li class="{% if request.path == product_list %} active {% endif %}{% if request.path == product_edit %} active {% endif %} {% if request.path == product_add_media %} active {% endif %} {% if request.path == product_edit_media %} active {% endif %} {% if request.path == product_add_stocks %} active {% endif %}"><a class="nav-link" href="{% url 'product_list' %}">Список товаров</a></li>
          </ul>
        </li>

              <!-- Viewlist -->
      {% url 'guest_list' as guest_list %}
        <li class="dropdown {% if request.path == guest_list %} active {% endif %}">
          <a href="#" class="nav-link has-dropdown"><span>Просмотры</span></a>
          <ul class="dropdown-menu">
            <li class="{% if request.path == guest_list %} active {% endif %}"><a class="nav-link" href="{% url 'guest_list' %}">Все просмотры</a></li>
          </ul>
        </li>


        <!-- Gallery -->
        {% url 'gallery_list' as gallery_list %}
        {% url 'gallery_create' as gallery_create %}
        {% url 'gallery_update' id as gallery_update %}
        <li class="dropdown {% if request.path == gallery_list %} active {% endif %}{% if request.path == gallery_create %} active {% endif %}{% if request.path == gallery_update %} active {% endif %}">
          <a href="#" class="nav-link has-dropdown"><span>Фото</span></a>
          <ul class="dropdown-menu">
            <li class="{% if request.path == gallery_list %} active {% endif %}{% if request.path == gallery_update %} active {% endif %}"><a class="nav-link" href="{% url 'gallery_list' %}">Все фото</a></li>
            <li class="{% if request.path == gallery_create %} active {% endif %}"><a class="nav-link" href="{% url 'gallery_create' %}">Добавить фото</a></li>
          </ul>
        </li>


        <!-- Projects -->
        {% url 'projects_list' as projects_list %}
        <li class="dropdown {% if request.path == projects_list %} active {% endif %}">
          <a href="#" class="nav-link has-dropdown"><span>Проекты</span></a>
          <ul class="dropdown-menu">
            <li class="{% if request.path == projects_list %} active {% endif %}"><a class="nav-link" href="{% url 'projects_list' %}">Все проекты</a></li>
          </ul>
        </li>

      </ul>




      <div class="mt-4 mb-4 p-3 hide-sidebar-mini">
        <a href="{% url 'admin_logout_process' %}" class="btn btn-danger btn-lg btn-block btn-icon-split" style="background-color: #DE1A22;">ВЫЙТИ
        </a>
      </div>
            </aside>
  </div>
{% block custom_js %}
<script src="{% static '/modules/jquery.min.js' %}"></script>
<script>
function change_url() {
  var id = $('#project_select option:selected').val();
  var submit = $("#project_button");
  console.log(id)
  var url_href = "{% url 'tempcustomer_fast_create' id='1' %}".replace('1',id.toString());
  submit.attr('href', url_href);
};
$(document).ready(change_url);
$(document).ready(function(){
  $('select#project_select').change(change_url);
});
</script>
    

{% endblock custom_js %}