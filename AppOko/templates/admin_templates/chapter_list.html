{% extends 'admin_templates/base_template.html' %}
{% block title %}
Список разделов
{% endblock title %}

{% block custom_css %}
{% endblock custom_css %}

{% block page_title %}
Список разделов
{% endblock page_title %}

{% block page_content %}
<div class="row">
{% for chapter in chapters_list %}
    <div class="col-12 col-sm-6 col-md-6 col-lg-3">
        <article class="article article-style-b">
          <div class="article-header">
            <div class="article-image" style="background-size: contain;" data-background="/media/{{ chapter.thumbnail }}">
            </div>
          </div>
          <div class="article-details">
            <p style="color: rgb(0, 0, 0); margin-bottom: 0px;">{{ chapter.title }}</p><hr style="margin:2px">
            <p>{{ chapter.description }}</p>
            <div class="article-cta" style="text-align: center">
                <a href="{% url 'chapter_update' chapter.id %}" class="btn btn-danger">Изменить </a>
                <a href="{% url 'chapter_delete' chapter.id %}" class="btn btn-danger">Удалить </a>
                <a href="{% url 'chapter_dublicate' chapter.id %}" class="btn btn-danger">Дублировать </a>
            </div>
          </div>
        </article>
      </div>
{% endfor %}
</div>
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-body">
          <nav aria-label="Page navigation example">
            <ul class="pagination">
            {% if page.obj.has_previous %}
            <li class="page-item"><a class="page-link" href="{% url 'chapter_list' %}?filter={{ filter }}&orderby={{ orderby }}&page={{ page.obj.previous_page_number }}">Previous</a></li>
            {% else %}
            <li class="page-item disabled"><a class="page-link" href="#">Предыдущая</a></li>
            {% endif %}
            {% for i in paginator.page_range %}
              <li class="page-item"><a class="page-link" href="{% url 'chapter_list' %}?filter={{ filter }}&orderby={{ orderby }}&page={{ i }}">{{ i }}</a></li>
            {% endfor %}
            {% if page.obj.has_next %}
              <li class="page-item"><a class="page-link" href="{% url 'chapter_list' %}?filter={{ filter }}&orderby={{ orderby }}&page={{ page.obj.next_page_number }}">Next</a></li>
            {% else %}
            <li class="page-item disabled"><a class="page-link" href="#">Следующая</a></li>
            {% endif %}
            </ul>
          </nav>
        </div>
    </div>
  </div>
</div>
{% endblock page_content %}

{% block custom_js %}
<script>
  $(".delete_product").click(function(){
      var id=$(this).data("location");
      console.log(id);
      var cnf=confirm("Вы точно хотите удалить раздел?");
      if(cnf){
          location=id;
      }
  });
</script>
{% endblock custom_js %}